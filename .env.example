# ===========================================
# Contrarian AI Trading Platform
# Environment Configuration Template
# ===========================================

# Database
# For local development with docker-compose
DATABASE_URL="postgresql://contrarian:contrarian_dev@localhost:5432/contrarian_ai"

# Kraken API (Story 1.3 & 3.1)
# Get your keys from: https://www.kraken.com/u/security/api
# IMPORTANT: API keys should have ONLY "Query Funds" + "Create & Modify Orders" permissions
# NEVER enable "Withdraw Funds" permission for security
KRAKEN_API_KEY="your-api-key-here"
KRAKEN_API_SECRET="your-api-secret-here"
# Private key for Kraken API (same as API_SECRET for most operations)
KRAKEN_PRIVATE_KEY="your-private-key-here"
# Sandbox mode: Set to "true" for testing (logs orders but doesn't execute)
# Set to "false" for live trading (CAUTION: real money!)
KRAKEN_SANDBOX_MODE="true"

# LunarCrush API (Story 1.4)
# Get your key from: https://lunarcrush.com/developers
LUNARCRUSH_API_KEY=""

# Telegram API (Story 1.4 - Sentiment Scraping)
# Get your credentials from: https://my.telegram.org/apps
# 1. Log in with your phone number
# 2. Create a new application
# 3. Copy the api_id and api_hash
# After setting these, run: python -m services.socials.telegram_auth
TELEGRAM_API_ID=""
TELEGRAM_API_HASH=""
TELEGRAM_PHONE=""  # With country code, e.g., +1234567890
# Optional: Custom channel list (comma-separated, without @)
# TELEGRAM_CHANNELS="CoinDesk,Cointelegraph,bitcoinmagazine"

# CryptoPanic API (Story 1.4 - News Sentiment)
# Get your API key from: https://cryptopanic.com/developers/api/
# Uses Developer v2 API: https://cryptopanic.com/api/developer/v2/posts/
# CryptoPanic aggregates crypto news and provides community sentiment votes
CRYPTOPANIC_API_KEY="your-auth-token-here"

# Google Gemini AI for Sentiment Analysis (Story 2.2)
# Get your key from: https://aistudio.google.com/app/apikey
GOOGLE_AI_API_KEY=""
GEMINI_MODEL="gemini-2.0-flash-lite"
GEMINI_TEMPERATURE="0.3"
GEMINI_MAX_TOKENS="1024"

# Next.js
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# Bot Service
BOT_PORT=8000
WEB_URL="http://localhost:3000"

# Risk Management (Story 3.2 - Dynamic Risk Engine)
# ATR-based stop loss calculation parameters
RISK_ATR_PERIOD="14"
RISK_ATR_MULTIPLIER="2.0"
RISK_MAX_STOP_LOSS_PERCENTAGE="0.20"
RISK_MIN_STOP_LOSS_PERCENTAGE="0.02"
RISK_DEFAULT_PER_TRADE="0.02"

# Story 5.1: Market Regime Configuration
# DMA periods for regime detection
REGIME_FAST_MA_PERIOD="50"
REGIME_SLOW_MA_PERIOD="200"

# Position size multipliers per regime (0.0 to 1.0)
# BULL: Full size (normal operation)
# BEAR: Reduced exposure (catching falling knives protection)
# CHOP: Minimal exposure (wait for clarity)
REGIME_BULL_POSITION_MULT="1.0"
REGIME_BEAR_POSITION_MULT="0.5"
REGIME_CHOP_POSITION_MULT="0.25"

# Fear thresholds per regime (fear score must be BELOW this to buy)
# Lower threshold = require more extreme fear to buy
# BULL: Normal contrarian threshold
# BEAR: Stricter - require extreme fear
# CHOP: Very strict - require extreme fear
REGIME_BULL_FEAR_THRESHOLD="30"
REGIME_BEAR_FEAR_THRESHOLD="20"
REGIME_CHOP_FEAR_THRESHOLD="15"

# Debug mode (set to "true" for verbose logging)
DEBUG="false"
